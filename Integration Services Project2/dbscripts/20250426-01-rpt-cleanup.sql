CALL MIGRATION.STE_START_PATCH('20250426-01-BIRT-REPORT');

-- CLEANUP OBSOLETE VIEWS
DROP VIEW MAXIMO.CSWN_ACCRUAL_STK_CR;
DROP VIEW MAXIMO.CSWN_ACCRUAL_STK_DR;
DROP VIEW MAXIMO.CSWN_CN_CR_STK;
DROP VIEW MAXIMO.CSWN_CN_CR_TAX_STK;
DROP VIEW MAXIMO.CSWN_CN_DR_STK;
DROP VIEW MAXIMO.CSWN_GL_ISSUES_CR;
DROP VIEW MAXIMO.CSWN_GL_ISSUES_DR;
DROP VIEW MAXIMO.CSWN_GL_RETURN_CR;
DROP VIEW MAXIMO.CSWN_GL_RETURN_DR;
DROP VIEW MAXIMO.CSWN_INV_CR_STK;
DROP VIEW MAXIMO.CSWN_INV_CR_TAX_STK;
DROP VIEW MAXIMO.CSWN_INV_DR_STK;
DROP VIEW MAXIMO.CSWN_INV_DR_TAX_STK;

-- RENAME BACKUP TABLES FOR CONSISTENCY
RENAME TABLE MIGRATION.PATCH_20250330_INVCOST TO BAK_20250330_INVCOST;
RENAME TABLE MIGRATION.PATCH_20250402_ROTATING_ASSETS TO BAK_20250402_ROTATING_ASSETS;
RENAME TABLE MIGRATION.PATCH_20250403_RFQ TO BAK_20250403_RFQ;
RENAME TABLE MIGRATION.PATCH_20250403_RFQLINE TO BAK_20250403_RFQLINE;
RENAME TABLE MIGRATION.PATCH_20250403_RFQVENDOR TO BAK_20250403_RFQVENDOR;
RENAME TABLE MIGRATION.PATCH_20250403_QUOTATIONLINE TO BAK_20250403_QUOTATIONLINE;
RENAME TABLE MIGRATION.PATCH_20250403_LD_RFQ TO BAK_20250403_LD_RFQ;
RENAME TABLE MIGRATION.PATCH_20250403_LD_RFQLINE TO BAK_20250403_LD_RFQLINE;
RENAME TABLE MIGRATION.PATCH_20250403_SR_STATUSDATE TO BAK_20250403_SR_STATUSDATE;

CALL MIGRATION.STE_FINISH_PATCH('20250426-01-BIRT-REPORT');
